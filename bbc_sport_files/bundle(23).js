Morph.versions["bbc-morph-lazysizes@1.0.1"]={"@bbc/lazysizes":"1.0.0"},function(t){function e(i){if(r[i])return r[i].exports;var a=r[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){Morph.modules["bbc-morph-lazysizes@1.0.1"]=r(1)},function(t,e,r){var i=function(){return{config:{lazyClass:"lazyload",autosizesClass:"lazyautosizes",preloadClass:"lazypreload",loadingClass:"lazyloading",loadedClass:"lazyloaded",errorClass:"lazyerror",loadMode:3,hFac:.8,expFactor:1.7,expand:500,minSize:40,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",init:!0,customMedia:{},rias:{widths:[240,320,480,624,800],absUrl:!1,postfix:"",prefix:"",hidpi:"",widthmap:{},modifyOptions:function(){}}}}},a=function(t){var e,a,n=i();for(key in t)n.hasOwnProperty(key)&&(n[key]=t[key]);e=r(2)(n),a=r(3)(n,e)};t.exports={load:a}},function(t,e){t.exports=function(t){"use strict";var e=t.window||window,r=e.document||window.document,i=t.config;if(r.getElementsByClassName){var a,n=r.documentElement,s=e.HTMLPictureElement&&"sizes"in r.createElement("img"),o="addEventListener",c="getAttribute",l=e[o],d=e.setTimeout,u=e.requestAnimationFrame||d,f=/^picture$/i,p=["load","error","lazyincluded","_lazyloaded"],m={},h=Array.prototype.forEach,g=function(t,e){return m[e]||(m[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),m[e].test(t[c]("class")||"")&&m[e]},y=function(t,e){g(t,e)||t.setAttribute("class",(t[c]("class")||"").trim()+" "+e)},z=function(t,e){var r;(r=g(t,e))&&t.setAttribute("class",(t[c]("class")||"").replace(r," "))},v=function(t,e,r){var i=r?o:"removeEventListener";r&&v(t,e),p.forEach(function(r){t[i](r,e)})},b=function(t,e,i,a,n){var s=r.createEvent("CustomEvent");return s.initCustomEvent(e,!a,!n,i||{}),t.dispatchEvent(s),s},A=function(t,r){var i;!s&&(i=e.picturefill||a.pf)?i({reevaluate:!0,elements:[t]}):r&&r.src&&(t.src=r.src)},w=function(t,e){return(getComputedStyle(t,null)||{})[e]},C=function(t,e,r){for(r=r||t.offsetWidth;r<a.minSize&&e&&!t._lazysizesWidth;)r=e.offsetWidth,e=e.parentNode;return r},E=function(t){var r,i=0,a=e.Date,n=function(){r=!1,i=a.now(),t()},s=function(){d(n)},o=function(){u(s)};return function(){if(!r){var t=125-(a.now()-i);r=!0,t<6&&(t=6),d(o,t)}}},x=function(){var t,i,s,p,m,C,x,M,_,P,W,O,L,T,k,B=/^img$/i,R=/^iframe$/i,S="onscroll"in e&&!/glebot/.test(navigator.userAgent),$=0,F=0,D=0,H=0,U=function(t){D--,t&&t.target&&v(t.target,U),(!t||D<0||!t.target)&&(D=0)},I=function(t,e){var i,a=t,s="hidden"==w(r.body,"visibility")||"hidden"!=w(t,"visibility");for(_-=e,O+=e,P-=e,W+=e;s&&(a=a.offsetParent)&&a!=r.body&&a!=n;)s=(w(a,"opacity")||1)>0,s&&"visible"!=w(a,"overflow")&&(i=a.getBoundingClientRect(),s=W>i.left&&P<i.right&&O>i.top-1&&_<i.bottom+1);return s},j=function(){var e,r,o,l,d,u,f,p,h;if((m=a.loadMode)&&D<8&&(e=t.length)){r=0,H++,null==T&&("expand"in a||(a.expand=n.clientHeight>600?n.clientWidth>600?550:410:359),L=a.expand,T=L*a.expFactor),F<T&&D<1&&H>3&&m>2?(F=T,H=0):F=m>1&&H>2&&D<6?L:$;for(;r<e;r++)if(t[r]&&!t[r]._lazyRace)if(S)if((p=t[r][c]("data-expand"))&&(u=1*p)||(u=F),h!==u&&(x=innerWidth+u*k,M=innerHeight+u,f=u*-1,h=u),o=t[r].getBoundingClientRect(),(O=o.bottom)>=f&&(_=o.top)<=M&&(W=o.right)>=f*k&&(P=o.left)<=x&&(O||W||P||_)&&(s&&D<3&&!p&&(m<3||H<4)||I(t[r],u))){if(V(t[r]),d=!0,D>9)break}else!d&&s&&!l&&D<4&&H<4&&m>2&&(i[0]||a.preloadAfterLoad)&&(i[0]||!p&&(O||W||P||_||"auto"!=t[r][c](a.sizesAttr)))&&(l=i[0]||t[r]);else V(t[r]);l&&!d&&V(l)}},X=E(j),q=function(t){y(t.target,a.loadedClass),z(t.target,a.loadingClass),v(t.target,G)},G=function(t){t={target:t.target},u(function(){q(t)})},J=function(t,e){try{t.contentWindow.location.replace(e)}catch(r){t.src=e}},K=function(t){var e,r,i=t[c](a.srcsetAttr);(e=a.customMedia[t[c]("data-media")||t[c]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i),e&&(r=t.parentNode,r.insertBefore(t.cloneNode(),t),r.removeChild(t))},Q=function(){var t,e=[],r=function(){for(;e.length;)e.shift()();t=!1},i=function(i){e.push(i),t||(t=!0,u(r))};return{add:i,run:r}}(),V=function(t){var e,r,i,n,o,l,m,w=B.test(t.nodeName),C=w&&(t[c](a.sizesAttr)||t[c]("sizes")),E="auto"==C;(!E&&s||!w||!t.src&&!t.srcset||t.complete||g(t,a.errorClass))&&(E&&(m=t.offsetWidth),t._lazyRace=!0,D++,a.rC&&(m=a.rC(t,m)||m),Q.add(function(){(o=b(t,"lazybeforeunveil")).defaultPrevented||(C&&(E?(N.updateElem(t,!0,m),y(t,a.autosizesClass)):t.setAttribute("sizes",C)),r=t[c](a.srcsetAttr),e=t[c](a.srcAttr),w&&(i=t.parentNode,n=i&&f.test(i.nodeName||"")),l=o.detail.firesLoad||"src"in t&&(r||e||n),o={target:t},l&&(v(t,U,!0),clearTimeout(p),p=d(U,2500),y(t,a.loadingClass),v(t,G,!0)),n&&h.call(i.getElementsByTagName("source"),K),r?t.setAttribute("srcset",r):e&&!n&&(R.test(t.nodeName)?J(t,e):t.src=e),(r||n)&&A(t,{src:e})),u(function(){t._lazyRace&&delete t._lazyRace,z(t,a.lazyClass),l&&!t.complete||(l?U(o):D--,q(o))})}))},Y=function(){if(!s){if(Date.now()-C<999)return void d(Y,999);var t,e=function(){a.loadMode=3,X()};s=!0,a.loadMode=3,r.hidden?(j(),Q.run()):X(),l("scroll",function(){3==a.loadMode&&(a.loadMode=2),clearTimeout(t),t=d(e,99)},!0)}};return{_:function(){C=Date.now(),t=r.getElementsByClassName(a.lazyClass),i=r.getElementsByClassName(a.lazyClass+" "+a.preloadClass),k=a.hFac,l("scroll",X,!0),l("resize",X,!0),e.MutationObserver?new MutationObserver(X).observe(n,{childList:!0,subtree:!0,attributes:!0}):(n[o]("DOMNodeInserted",X,!0),n[o]("DOMAttrModified",X,!0),setInterval(X,999)),l("hashchange",X,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){r[o](t,X,!0)}),/d$|^c/.test(r.readyState)?Y():(l("load",Y),r[o]("DOMContentLoaded",X),d(Y,2e4)),X(t.length>0)},checkElems:X,unveil:V}}(),N=function(){var t,e=function(t,e,r){var i,a,n,s,o=t.parentNode;if(o&&(r=C(t,o,r),s=b(t,"lazybeforesizes",{width:r,dataAttr:!!e}),!s.defaultPrevented&&(r=s.detail.width,r&&r!==t._lazysizesWidth))){if(t._lazysizesWidth=r,r+="px",t.setAttribute("sizes",r),f.test(o.nodeName||""))for(i=o.getElementsByTagName("source"),a=0,n=i.length;a<n;a++)i[a].setAttribute("sizes",r);s.detail.dataAttr||A(t,s.detail)}},i=function(){var r,i=t.length;if(i)for(r=0;r<i;r++)e(t[r])},n=E(i);return{_:function(){t=r.getElementsByClassName(a.autosizesClass),l("resize",n)},checkElems:n,updateElem:e}}(),M=function(){M.i||(M.i=!0,N._(),x._())};return function(){var t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.7,hFac:.8,loadMode:2};a=i||{};for(t in e)t in a||(a[t]=e[t]);d(function(){a.init&&M()})}(),{cfg:a,autoSizer:N,loader:x,init:M,uP:A,aC:y,rC:z,hC:g,fire:b,gW:C}}}},function(t,e){t.exports=function(t,e){"use strict";function r(t,e){var r,i,a,n;i=t.parentNode,n={isPicture:!(!i||!p.test(i.nodeName||""))},a=function(e,r){var i=t.getAttribute("data-"+e);if(null!==i){if("true"==i)i=!0;else if("false"==i)i=!1;else if(f.test(i))i=parseFloat(i);else if("function"==typeof l[e])i=l[e](t,i);else if(y.test(i))try{i=JSON.parse(i)}catch(t){}n[e]=i}else e in l&&"function"!=typeof l[e]?n[e]=l[e]:r&&"function"==typeof l[e]&&(n[e]=l[e](t,i))};for(r in l)a(r);return e.replace(g,function(t,e){e in n||a(e,!0)}),n}function i(t,e){var r=[],i=function(t,r){return u[typeof e[r]]?e[r]:t};return r.srcset=[],e.absUrl&&(v.setAttribute("href",t),t=v.href),t=((e.prefix||"")+t+(e.postfix||"")).replace(g,i),e.widths.forEach(function(i){var a=e.widthmap[i]||i,n={u:t.replace(m,a).replace(h,e.ratio?Math.round(i*e.ratio):""),w:i};r.push(n),r.srcset.push(n.c=n.u+" "+i+"w")}),r}function a(t,e,r){var a=0,n=0,s=r;if(t){if("container"===e.ratio){for(a=s.scrollWidth,n=s.scrollHeight;!(a&&n||s===c);)s=s.parentNode,a=s.scrollWidth,n=s.scrollHeight;a&&n&&(e.ratio=n/a)}t=i(t,e),t.isPicture=e.isPicture,A&&"IMG"==r.nodeName.toUpperCase()?r.removeAttribute(d.srcsetAttr):r.setAttribute(d.srcsetAttr,t.srcset.join(", ")),Object.defineProperty(r,"_lazyrias",{value:t,writable:!0})}}function n(t,i){var a=r(t,i);return l.modifyOptions.call(t,{target:t,details:a,detail:a}),e.fire(t,"lazyriasmodifyoptions",a),a}function s(t){return t.getAttribute(t.getAttribute("data-srcattr")||l.srcAttr)||t.getAttribute(d.srcsetAttr)||t.getAttribute(d.srcAttr)||t.getAttribute("data-pfsrcset")||""}var o=t.window||window,c=o.document||window.document;if(c.addEventListener&&e){var l,d=t.config||{},u={string:1,number:1},f=/^\-*\+*\d+\.*\d*$/,p=/^picture$/i,m=/\s*\{\s*width\s*\}\s*/i,h=/\s*\{\s*height\s*\}\s*/i,g=/\s*\{\s*([a-z0-9]+)\s*\}\s*/gi,y=/^\[.*\]|\{.*\}$/,z=/^(?:auto|\d+(px)?)$/,v=c.createElement("a"),b=c.createElement("img"),A="srcset"in b&&!("sizes"in b),w=!!o.HTMLPictureElement&&"sizes"in c.createElement("img");!function(){var t,e=function(){},r={prefix:"",postfix:"",srcAttr:"data-src",absUrl:!1,modifyOptions:e,widthmap:{},ratio:!1};d.supportsType||(d.supportsType=function(t){return!t}),d.rias||(d.rias={}),l=d.rias,"widths"in l||(l.widths=[],function(t){for(var e,r=0;!e||e<3e3;)r+=5,r>30&&(r+=1),e=36*r,t.push(e)}(l.widths));for(t in r)t in l||(l[t]=r[t])}(),addEventListener("lazybeforeunveil",function(t){var e,r,i,o,c,u,f,p,h,g,y,v,b;if(e=t.target,h=e.getAttribute(d.sizesAttr)||e.getAttribute("sizes"),!t.defaultPrevented&&!l.disabled&&h&&z.test(h)){if(r=s(e),i=n(e,r),y=m.test(i.prefix)||m.test(i.postfix),i.isPicture&&(o=e.parentNode))for(c=o.getElementsByTagName("source"),u=0,f=c.length;u<f;u++)(y||m.test(p=s(c[u])))&&(a(p,i,c[u]),v=!0);y||m.test(r)?(a(r,i,e),v=!0):v&&(b=[],b.srcset=[],b.isPicture=!0,Object.defineProperty(e,"_lazyrias",{value:b,writable:!0})),v&&(w?e.removeAttribute(d.srcAttr):"auto"!=h&&(g={width:parseInt(h,10)},C({target:e,detail:g,details:g})))}});var C=function(){var t=function(t,e){return t.w-e.w},r=function(t){var e,r,i=t.length,a=t[i-1],n=0;for(n;n<i;n++)if(a=t[n],a.d=a.w/t.w,a.d>=t.d){!a.cached&&(e=t[n-1])&&e.d>t.d-.13*Math.pow(t.d,2.2)&&(r=Math.pow(e.d-.6,1.6),e.cached&&(e.d+=.15*r),e.d+(a.d-t.d)*r>t.d&&(a=e));break}return a},i=function(t,r){var i;return!t._lazyrias&&e.pWS&&(i=e.pWS(t.getAttribute(d.srcsetAttr||""))).length&&(Object.defineProperty(t,"_lazyrias",{value:i,writable:!0}),r&&t.parentNode&&(i.isPicture="PICTURE"==t.parentNode.nodeName.toUpperCase())),t._lazyrias},a=function(t){var r=o.devicePixelRatio||1,i=e.getX&&e.getX(t);return Math.min(i||r,2.4,r)},n=function(e,n){var s,c,l,d,u,f;if(u=e._lazyrias,u.isPicture&&o.matchMedia)for(c=0,s=e.parentNode.getElementsByTagName("source"),l=s.length;c<l;c++)if(i(s[c])&&!s[c].getAttribute("type")&&(!(d=s[c].getAttribute("media"))||(matchMedia(d)||{}).matches)){u=s[c]._lazyrias;break}return(!u.w||u.w<n)&&(u.w=n,u.d=a(e),f=r(u.sort(t))),f},s=function(t){var e,r=t.target;return!A&&(o.respimage||o.picturefill||d.pf)?void c.removeEventListener("lazybeforesizes",s):void(("_lazyrias"in r||t.detail.dataAttr&&i(r,!0))&&(e=n(r,t.detail.width),e&&e.u&&r._lazyrias.cur!=e.u&&(r._lazyrias.cur=e.u,e.cached=!0,r.setAttribute(d.srcAttr,e.u),r.setAttribute("src",e.u))))};return w?s=function(){}:c.addEventListener("lazybeforesizes",s),s}()}}}]);