Morph.versions["bbc-morph-sport-filter-navigation-component@5.2.3"]={"bbc-morph-grandstand":"5.4.3","bbc-morph-sport-filter-navigation-actions":"2.0.4","bbc-morph-sport-filter-navigation-store":"3.0.4","morph-container":"4.0.0","bbc-morph-sport-native-app-helper":"2.0.1",react:"0.14.7"},function(e){function t(i){if(r[i])return r[i].exports;var s=r[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){Morph.modules["bbc-morph-sport-filter-navigation-component@5.2.3"]=r(1)},function(e,t,r){function i(e){return e&&e[0]&&e[0].text}var s=r(2),n=s.PropTypes,l=r(3),o=r(4),p=r(8),a=r(10),c=r(11),u=r(12),d=9,h=s.createClass({displayName:"filter-navigation",propTypes:{groups:n.object.isRequired,isApp:n.bool,defaultSelectedValue:n.string.isRequired,storeIndex:n.string,clickHandler:n.func,iStatsHandler:n.func,filteredContentId:n.string.isRequired},getStoreIndex:function(){return this.props.storeIndex?this.props.storeIndex:"default"},groupsAvailable:function(){return this.props.groups&&this.props.groups.length>0},itemsAvailable:function(){return this.props.groups[0].items&&this.props.groups[0].items.length>0},getSelectedValue:function(){var e=this.getStoreIndex();return this.props.filterStore[e]&&this.props.filterStore[e].selectedValue?this.props.filterStore[e].selectedValue:this.props.defaultSelectedValue?decodeURIComponent(this.props.defaultSelectedValue):this.groupsAvailable()&&this.itemsAvailable()?this.props.groups[0].items[0].selectedValue:void 0},getSelectedSectionText:function(){var e=this.props.groups[0];if(e&&e.items&&e.items.length>0){var t=e.items.filter(function(e){return e.selectedValue===this.getSelectedValue()}.bind(this));if(i(t))return t[0].text}return!1},itemClickHandler:function(e,t){this.setState({expanded:!1,sortToFront:t},function(){c.setSelected({index:this.getStoreIndex(),selectedValue:e}),this.props.clickHandler&&this.props.clickHandler(e)}.bind(this))},moreButtonClickHandler:function(){this.setState({expanded:!this.state.expanded}),this.props.iStatsHandler&&this.props.iStatsHandler()},getNavButton:function(){return document.querySelectorAll(".sp-c-filter__block--expanded .sp-c-filter__list-link")[0]},loopOverMenuItems:function(e){return e.keyCode===d&&(e.preventDefault(),this.getNavButton().focus()),!1},getMoreButton:function(){return document.querySelector(".sp-c-filter-nav__more-button .sp-c-filter-nav__button")},exitFilterMenu:function(){this.getMoreButton().focus(),this.setState({expanded:!this.state.expanded})},getInitialState:function(){return{expanded:!1,sortToFront:!0}},renderFilterBlock:function(){var e={groups:this.props.groups,clickHandler:this.itemClickHandler,iStatsHandler:this.props.iStatsHandler,moreButtonClickHandler:this.moreButtonClickHandler,selectedValue:this.getSelectedValue(),isApp:this.props.isApp,sortToFront:this.state.sortToFront,filteredContentId:this.props.filteredContentId||"",selectedValueText:this.getSelectedSectionText()};return s.createElement(o,s.__spread({},e))},renderExpandedBlock:function(){var e={groups:this.props.groups,clickHandler:this.itemClickHandler,iStatsHandler:this.props.iStatsHandler,selectedValue:this.getSelectedValue(),isApp:this.props.isApp,expanded:this.state.expanded,exitFilterMenu:this.exitFilterMenu,loopOverMenuItems:this.loopOverMenuItems,filteredContentId:this.props.filteredContentId||""};return s.createElement(p,s.__spread({},e))},componentWillMount:function(){u()},render:function(){return s.createElement("div",{className:"gs-u-mb+"},this.renderFilterBlock(),this.renderExpandedBlock())}});e.exports=l.create(h,{stores:{filterStore:{store:a}}})},function(e,t){e.exports=React},function(e,t){e.exports={create:function(e,t){return Morph.createContainerWithCaller("bbc-morph-sport-filter-navigation-component@5.2.3",e,t)}}},function(e,t,r){var i=r(2),s=r(5),n=r(7);e.exports=i.createClass({displayName:"exports",moveSelectedItemToFront:function(e,t){var r,i=t.filter(function(t){return t.selectedValue!==e&&t.hyperlink!==e||(r=t,!1)});return r&&i.unshift(r),i},groupsAreSet:function(){return this.props.groups&&Array.isArray(this.props.groups)},populateAllItems:function(e,t){var r=this.props.groups.map(function(e){return e.items}),i=this.state.allItems.filter(function(e){return"more"!==e}),s=Array.prototype.concat.apply([],r),n=s.filter(function(e){return!i.some(function(t){return JSON.stringify(t)===JSON.stringify(e)})}),l=i.concat(n);return e&&t&&(l=this.moveSelectedItemToFront(e,l)),l.unshift("more"),l},determineSelectedItemMap:function(){var e=this.state.allItems.map(function(e){return e.selectedValue&&e.selectedValue===this.props.selectedValue||e.hyperlink&&e.hyperlink===this.props.selectedValue}.bind(this)),t=e.indexOf(!0)===-1;if(t){var r=!1;this.state.allItems.forEach(function(t,i){t.text&&!r&&(e[i]=!0,r=!0)})}return e},renderMoreButton:function(){return i.createElement(n,{clickHandler:this.props.moreButtonClickHandler,selectedValueText:this.props.selectedValueText})},renderFilterItems:function(){var e=this.determineSelectedItemMap();return this.state.allItems.map(function(t,r){return i.createElement(s,{key:"filteritem-"+r,selected:e[r],item:t,clickHandler:this.props.clickHandler,iStatsHandler:this.props.iStatsHandler,isApp:this.props.isApp,index:r})},this)},getInitialState:function(){return{allItems:[]}},shouldComponentUpdate:function(e){return e.selectedValue!==this.props.selectedValue},componentWillReceiveProps:function(e){this.groupsAreSet()&&(this.setState({allItems:this.populateAllItems(e.selectedValue,e.sortToFront)}),this.render())},componentWillMount:function(){this.groupsAreSet()&&this.setState({allItems:this.populateAllItems(this.props.selectedValue,this.props.sortToFront)})},render:function(){return i.createElement("div",{className:"sp-c-filter-nav"},this.renderMoreButton(),i.createElement("ul",{className:"gel-pica-bold","aria-hidden":"true",tabIndex:"-1",role:"menu"},this.renderFilterItems()))}})},function(e,t,r){var i=r(2);e.exports=i.createClass({displayName:"filter-navigation__filter-item",getInitialState:function(){return{renderUsingLink:!0}},handleClick:function(){this.props.clickHandler(this.props.item.selectedValue,!1,this.props.index),this.props.iStatsHandler&&this.props.iStatsHandler(this.props.item.selectedValue,!1,this.props.index)},propsAreValid:function(){return this.props.item&&this.props.item.text&&(this.props.item.hyperlink||this.props.item.selectedValue)},getLink:function(e){var t=r(6)(this.props);return e+t.getAppSuffixIfIsApp()},isSelected:function(){return this.props.selected},getClassName:function(){return this.isSelected()?"sp-c-filter-nav__link sp-c-filter-nav__link--selected":"sp-c-filter-nav__link"},renderHyperlink:function(){return i.createElement("a",{className:this.getClassName(),href:this.getLink(this.props.item.hyperlink),"aria-hidden":"true",tabIndex:"-1",role:"menuitem"},this.props.item.text)},getFormattedItemText:function(){var e=this.props.item.text.replace(/\s/g,"-");return e.toLowerCase()},getButtonClassNames:function(){return this.getClassName()+" qa-filter-nav__link--"+this.getFormattedItemText()},renderButton:function(){return i.createElement("button",{className:this.getButtonClassNames(),onClick:this.handleClick,"aria-hidden":"true",tabIndex:"-1",role:"menuitem"},this.props.item.text)},renderItem:function(){return this.state.renderUsingLink&&this.props.item.hyperlink?this.renderHyperlink():this.renderButton()},componentDidMount:function(){this.isSelected()&&this.props.clickHandler&&this.props.clickHandler(this.props.item.selectedValue),this.state.renderUsingLink&&this.props.item.selectedValue&&this.setState({renderUsingLink:!1})},render:function(){return this.propsAreValid()?i.createElement("li",{className:"sp-c-filter-nav__item","aria-hidden":"true",tabIndex:"-1"},this.renderItem()):null}})},function(e,t){e.exports=Morph.modules["bbc-morph-sport-native-app-helper@2.0.1"]},function(e,t,r){var i=r(2);e.exports=i.createClass({displayName:"exports",accessibleSelectedValue:function(){return!!this.props.selectedValueText&&("All"===this.props.selectedValueText?"all coverages":this.props.selectedValueText)},render:function(){var e="Filter by section. Currently selected: "+this.accessibleSelectedValue();return i.createElement("div",{className:"sp-c-filter-nav__more-button gel-pica-bold"},i.createElement("span",{id:"sp-c-filter-nav__label",className:"gs-u-vh"},e),i.createElement("button",{className:"sp-c-filter-nav__button sp-c-filter-nav__link",onClick:this.props.clickHandler,"aria-haspopup":"true","aria-labelledby":"sp-c-filter-nav__label","aria-controls":"sp-c-filter-nav__expanded-block"},i.createElement("span",{"aria-hidden":"true"},"More")))}})},function(e,t,r){var i=r(2),s=r(9),n=r(6);e.exports=i.createClass({displayName:"exports",renderTitle:function(e){return i.createElement("h3",{className:"gel-great-primer-bold gs-u-mb gs-u-mt-"},e)},itemShouldBeSelected:function(e){return this.props.selectedValue&&(e.selectedValue===this.props.selectedValue||e.hyperlink===this.props.selectedValue)},shouldComponentUpdate:function(e){return e.selectedValue!==this.props.selectedValue||e.expanded!==this.props.expanded},linkHasDotAppAppended:function(e){return e.indexOf(".app")!==-1},getHyperLink:function(e){return this.linkHasDotAppAppended(e)?e:e+n(this.props).getAppSuffixIfIsApp()},renderOnwardJourneyForGroup:function(e){function t(e,t){var r=i.createElement("a",{href:e,className:"sp-c-filter__list-link gel-pica-bold pica-bold",role:"menuitem"},t);return e?r:t}var r=e.onwardJourney;return r&&r.text?(r.hyperlink=this.getHyperLink(r.hyperlink),i.createElement("li",{className:"gs-o-list-ui_item sp-c-filterlist-item gs-o-list-ui_item--flush qa-onward-journey"},t(r.hyperlink,r.text))):null},renderItemsForGroup:function(e){return e.items.map(function(t,r){return i.createElement(s,{key:e.title.toLowerCase()+"Item"+r,item:t,selected:this.itemShouldBeSelected(t),clickHandler:this.props.clickHandler,iStatsHandler:this.props.iStatsHandler,isApp:this.props.isApp,index:r,filteredContentId:this.props.filteredContentId})},this)},renderCloseItem:function(){return i.createElement("li",{className:"sp-c-filter__list-item sp-c-filter__close-list-item gs-u-vh"},i.createElement("button",{onKeyDown:this.props.loopOverMenuItems,onClick:this.props.exitFilterMenu,"aria-controls":"sp-c-filter-nav__expanded-block"},"Close Filter Menu"))},renderGroups:function(){var e=this.props.groups,t=e.length>1;return e.map(function(e){return i.createElement("div",{id:"sp-c-filter-nav__expanded-block",key:"group-"+e.title.toLowerCase(),"data-role":e.title.toLowerCase()+"-block"},t?this.renderTitle(e.title):null,i.createElement("ul",{className:"gs-o-list-ui gs-o-list-ui--top-no-border sp-c-filter__list gel-pica gs-u-mb+","data-istats-container":"competitionfilter-dropdown",role:"menu","aria-labelledby":"sp-c-filter-nav__label"},this.renderItemsForGroup(e),this.renderOnwardJourneyForGroup(e),this.renderCloseItem()))},this)},render:function(){var e=["sp-c-filter__block"];return this.props.expanded&&e.push("sp-c-filter__block--expanded"),i.createElement("div",{"aria-hidden":!this.props.expanded,className:e.join(" ")},this.renderGroups())}})},function(e,t,r){var i=r(2);e.exports=i.createClass({displayName:"filter-navigation__block-item",getInitialState:function(){return{renderUsingLink:!0}},handleClick:function(){this.props.clickHandler(this.props.item.selectedValue,!0,this.props.index),this.props.iStatsHandler&&this.props.iStatsHandler(this.props.item.selectedValue,!0,this.props.index)},propsAreValid:function(){return this.props.item&&this.props.item.text&&(this.props.item.hyperlink||this.props.item.selectedValue)},getLink:function(e){var t=r(6)(this.props);return e+t.getAppSuffixIfIsApp()},renderHyperlink:function(){var e=this.props.selected?"sp-c-filter__list-link  sp-c-filter__list-link--selected":"sp-c-filter__list-link";return i.createElement("a",{className:e,href:this.getLink(this.props.item.hyperlink),"aria-controls":this.props.filteredContentId,role:"menuitem"},this.props.item.text)},renderButton:function(){var e=this.props.selected?"sp-c-filter__list-link  sp-c-filter__list-link--selected":"sp-c-filter__list-link";return i.createElement("button",{className:e,onClick:this.handleClick,"aria-controls":this.props.filteredContentId,role:"menuitem"},this.props.item.text)},renderItem:function(){return this.state.renderUsingLink&&this.props.item.hyperlink?this.renderHyperlink():this.renderButton()},componentDidUpdate:function(){this.state.renderUsingLink&&this.props.item.selectedValue&&this.setState({renderUsingLink:!1})},render:function(){return this.propsAreValid()?i.createElement("li",{className:"gs-o-list-ui__item sp-c-filter__list-item gs-o-list-ui__item--flush"},this.renderItem()):null}})},function(e,t){e.exports=Morph.modules["bbc-morph-sport-filter-navigation-store@3.0.4"]},function(e,t){e.exports=Morph.modules["bbc-morph-sport-filter-navigation-actions@2.0.4"]},function(e,t){e.exports=Morph.modules["bbc-morph-grandstand@5.4.3"]}]);